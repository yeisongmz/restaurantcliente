(this.webpackJsonprestaurantcliente=this.webpackJsonprestaurantcliente||[]).push([[0],{199:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(75),r=a.n(n),s=(a(88),a(4)),l=a(5),o=a(39),i=(a(200),a(201),{apiKey:"AIzaSyAdY5nY1Py9I_SbVhRFb8XbuOjA592-WMI",authDomain:"restaurant-8f46c.firebaseapp.com",projectId:"restaurant-8f46c",storageBucket:"restaurant-8f46c.appspot.com",messagingSenderId:"11009607788",appId:"1:11009607788:web:5da55e5710623e4bbc7049",measurementId:"G-7GN4FF2HH7"}),d=new function e(){Object(l.a)(this,e),o.a.initializeApp(i),this.db=o.a.firestore(),this.storage=o.a.storage()},b=Object(c.createContext)(),j=d,u=a(38),m=a(9),x=a(2),h=function(e){var t=e.orden,a=Object(c.useState)(0),n=Object(m.a)(a,2),r=n[0],s=n[1],l=Object(c.useContext)(b).firebase;return Object(x.jsx)("div",{className:"sm:w-1/2 lg:w-1/3 px-2 mb-4",children:Object(x.jsxs)("div",{className:"p-3 shadow-md bg-white",children:[Object(x.jsx)("h1",{className:"text-yellow-600 text-lg font-bold",children:t.id}),t.orden.map((function(e){return Object(x.jsxs)("p",{className:"text-gray-600",children:[e.cantidad,e.nombre]})})),Object(x.jsxs)("p",{className:"text-gray-700 font-bold",children:["Total a Pagar: Gs. ",t.total]}),0===t.tiempoEntrega?Object(x.jsxs)("div",{className:"mb-4",children:[Object(x.jsx)("label",{className:"block text-gray-700 text.sm font-bold mb-2",children:"Tiempo de Entrega"}),Object(x.jsx)("input",{type:"number",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",min:"1",max:"20",placeholder:"20",value:parseInt(r),onChange:function(e){return s(parseInt(e.target.value))}}),Object(x.jsx)("button",{onClick:function(){return function(e){try{l.db.collection("ordenes").doc(e).update({tiempoEntrega:r})}catch(t){console.log(t)}}(t.id)},type:"submit",className:"bg-gray-800 hover:bg-gray-900 w-full mt-5 p-2 text-white uppercase font-bold",children:"Definir Tiempo"})]}):Object(x.jsxs)("p",{className:"text-gray-700",children:[" Tiempo de Entrega:",Object(x.jsxs)("span",{className:"font-bold",children:[t.tiempoEntrega," Minutos"]})]})]})})},p=function(){var e=Object(c.useContext)(b).firebase,t=Object(c.useState)([]),a=Object(m.a)(t,2),n=a[0],r=a[1];function s(e){var t=e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())}));r(t)}return Object(c.useEffect)((function(){!function(){try{e.db.collection("ordenes").where("completado","==",!1).onSnapshot(s)}catch(t){console.log(t)}}()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"text-3xl font-light mb-4",children:"Ordenes"}),Object(x.jsx)("div",{className:"sm:flex sm:flex-wrap -mx3",children:n.map((function(e){return Object(x.jsx)(h,{orden:e},e.id)}))})]})},g=a(18),O=function(e){var t=e.platillo,a=Object(c.useRef)(t.existencia),n=Object(c.useContext)(b).firebase,r=t.id,s=t.nombre,l=t.imagen,o=t.existencia,i=t.categoria,d=t.precio,j=t.descripcion;return Object(x.jsx)("div",{className:"w-full px-3 mb-4",children:Object(x.jsx)("div",{className:"p-5 shadow-md bg-white",children:Object(x.jsxs)("div",{className:"lg:flex",children:[Object(x.jsxs)("div",{className:"lg:w-5/12 xl:w-5/12",children:[Object(x.jsx)("img",{src:l,alt:"imagen platillo"}),Object(x.jsx)("div",{className:"sm:flex sm:-mx-2",children:Object(x.jsxs)("label",{className:"block mt-5 sm:w-4/5",children:[Object(x.jsx)("span",{className:"block text-gray-800 mb-",children:"Existencia"}),Object(x.jsxs)("select",{className:" shadow appearance-none  borden rounded  w-full py-2 px-2  leading-tight  focus:outline-none  focus:shadow-outline",value:o,ref:a,onChange:function(){return function(){var e="true"===a.current.value;try{n.db.collection("productos").doc(r).update({existencia:e})}catch(t){console.log(t)}}()},children:[Object(x.jsx)("option",{value:"true",children:"Disponible"}),Object(x.jsx)("option",{value:"false",children:"No Disponible"})]})]})})]}),Object(x.jsxs)("div",{className:"lg:w-7/12 xl:w-9/12 pl-5",children:[Object(x.jsx)("p",{className:"font-bold text-2xl text-yellow-600 mb-4",children:s}),Object(x.jsxs)("p",{className:"text-gray-600 mb-4",children:["Categoria: ","",Object(x.jsx)("span",{className:"text-gray-700 font-bold",children:i.toUpperCase()})]}),Object(x.jsx)("p",{className:"text-gray-600 mb-4",children:j}),Object(x.jsxs)("p",{className:"text-gray-600 mb-4",children:["Precio: ","",Object(x.jsxs)("span",{className:"text-gray-700 font-bold",children:["Gs.",d]})]})]})]})})})},f=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(c.useContext)(b).firebase;function s(e){var t=e.docs.map((function(e){return Object(u.a)({id:e.id},e.data())}));n(t)}return Object(c.useEffect)((function(){!function(){try{r.db.collection("productos").onSnapshot(s)}catch(e){console.log(e)}}()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"text-3xl font-light mb-4",children:"Menu"}),Object(x.jsx)(g.b,{to:"/nuevo-platillo",className:" bg-blue-900  hover:bg-blue-700 inline-block  mb-5 p-2  text-white  uppercase  font-bold",children:"Agregar platillo"}),a.map((function(e){return Object(x.jsx)(O,{platillo:e},e.id)}))]})},v=a(49),N=a.n(v),w=a(76),y=a(83),C=a(23),S=a(82),k=a.n(S),F=function(){var e=Object(c.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(0),l=Object(m.a)(r,2),o=l[0],i=l[1],d=Object(c.useState)(""),j=Object(m.a)(d,2),u=j[0],h=j[1],p=Object(c.useContext)(b).firebase,g=Object(s.g)(),O=Object(y.a)({initialValues:{nombre:"",precio:"",categoria:"",imagen:"",descripcion:""},validationSchema:C.b({nombre:C.c().min(3,"Los Platillos deben tener almenos 3 caracteres como nombre").required("El Nombre del platillo es obligarotio"),precio:C.a().min(1,"Debes agregar un n\xfamero").required("El precio es obligatorio"),categoria:C.c().required("La categoria es obligatoria"),descripcion:C.c().min(20,"La descripci\xf3n debe ser mas larga").required("La descripcion del platillo es obligatoria")}),onSubmit:function(e){try{e.existencia=!0,e.imagen=u,p.db.collection("productos").add(e),g("/menu")}catch(t){console.log(t)}}}),f=function(){var e=Object(w.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(100),n(!1),e.next=4,p.storage.ref("productos").child(t).getDownloadURL();case 4:a=e.sent,console.log(a),h(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{className:"text-3xl font-light mb-4",children:"Agregar Platillo"}),Object(x.jsx)("div",{className:"flex justify-center mt-10",children:Object(x.jsx)("div",{className:"w-full max-w-3xl",children:Object(x.jsxs)("form",{onSubmit:O.handleSubmit,children:[Object(x.jsxs)("div",{className:"mb-4",children:[Object(x.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"nombre",children:"Nombre"}),Object(x.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ",id:"nombre",type:"text",placeholder:"Nombre Platillo",value:O.values.nombre,onChange:O.handleChange,onBlur:O.handleBlur})]}),O.touched.nombre&&O.errors.nombre?Object(x.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5 ",role:"alert",children:[Object(x.jsx)("p",{className:"font-bold",children:"Hubo un error:"}),Object(x.jsx)("p",{children:O.errors.nombre})]}):null,Object(x.jsxs)("div",{className:"mb-4",children:[Object(x.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"precio",children:"Precio"}),Object(x.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ",id:"precio",type:"number",placeholder:"10.000Gs",min:"5000",value:O.values.precio,onChange:O.handleChange,onBlur:O.handleBlur})]}),O.touched.precio&&O.errors.precio?Object(x.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5 ",role:"alert",children:[Object(x.jsx)("p",{className:"font-bold",children:"Hubo un error:"}),Object(x.jsx)("p",{children:O.errors.precio})]}):null,Object(x.jsxs)("div",{className:"mb-4",children:[Object(x.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"categoria",children:"Categoria"}),Object(x.jsxs)("select",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ",id:"categoria",name:"categoria",value:O.values.categoria,onChange:O.handleChange,onBlur:O.handleBlur,children:[Object(x.jsx)("option",{value:"desayuno",children:"Desayuno"}),Object(x.jsx)("option",{value:"comida",children:"Comida"}),Object(x.jsx)("option",{value:"merienda",children:"Merienda"}),Object(x.jsx)("option",{value:"cena",children:"Cena"}),Object(x.jsx)("option",{value:"bebida",children:"Bebidas"}),Object(x.jsx)("option",{value:"postre",children:"Postres"}),Object(x.jsx)("option",{value:"ensalada",children:"Ensaladas"})]})]}),O.touched.categoria&&O.errors.categoria?Object(x.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5 ",role:"alert",children:[Object(x.jsx)("p",{className:"font-bold",children:"Hubo un error:"}),Object(x.jsx)("p",{children:O.errors.categoria})]}):null,Object(x.jsxs)("div",{className:"mb-4",children:[Object(x.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"imagen",children:"Imagen"}),Object(x.jsx)(k.a,{accept:"image/*",id:"imagen",randomzeFilename:!0,storageRef:p.storage.ref("productos"),onUploadStart:function(){i(0),n(!0)},onUploadError:function(e){n(!1),console.log(e)},onUploadSuccess:f,onProgress:function(e){i(e),console.log(e)}})]}),a&&Object(x.jsx)("div",{className:"h-12 relative w-full border",children:Object(x.jsxs)("div",{className:"bg-green-500 absolute left-0 top-0 text-white px-2 text-sm h-12 flex items-center",children:[o," %"]})}),u&&Object(x.jsx)("p",{className:"bg-green-500 text-white p-3 text-center my-5",children:"La imagen se subi\xf3 correctamente"}),Object(x.jsxs)("div",{className:"mb-4",children:[Object(x.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"descripcion",children:"Descripci\xf3n"}),Object(x.jsx)("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-40",id:"descripcion",placeholder:"Nombre Platillo",value:O.values.descripcion,onChange:O.handleChange,onBlur:O.handleBlur})]}),O.touched.descripcion&&O.errors.descripcion?Object(x.jsxs)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-5 ",role:"alert",children:[Object(x.jsx)("p",{className:"font-bold",children:"Hubo un error:"}),Object(x.jsx)("p",{children:O.errors.descripcion})]}):null,Object(x.jsx)("input",{type:"submit",className:"bg-gray-800 hover:bg-gray-900 w-full mt-5 p-2 text-white uppercase font-bold",value:"Agregar Platillo"})]})})})]})},P=function(){return Object(x.jsx)("div",{className:"md:w2/5 xl:w-1/5 bg-gray-800",children:Object(x.jsxs)("div",{className:"p-6",children:[Object(x.jsx)("p",{className:"uppercase text-white text-2xl tracking-wide text-center font-bold",children:"RestaurantApp"}),Object(x.jsx)("p",{className:"mt-3 text-gray-600  ",children:"Administra tu restaurant en las siguientes opciones: "}),Object(x.jsxs)("nav",{className:"mt-10",children:[Object(x.jsx)(g.c,{className:"p-2 text-gray-400 block hover:bg-yellow-500 hover:text-gray-900",activeClassName:"text-yellow-500",exact:"true",to:"/ordenes",children:"Ordenes"}),Object(x.jsx)(g.c,{className:"p-2 text-gray-400 block hover:bg-yellow-500 hover:text-gray-900",activeClassName:"text-yellow-500",exact:"true",to:"/menu",children:"Men\xfa"})]})]})})};var E=function(){return Object(x.jsx)(b.Provider,{value:{firebase:j},children:Object(x.jsxs)("div",{className:"md:flex min-h-screen",children:[Object(x.jsx)(P,{}),Object(x.jsx)("div",{className:"md:w3/5 xl:w-2/5 p-6 ",children:Object(x.jsxs)(s.c,{children:[Object(x.jsx)(s.a,{path:"/",element:Object(x.jsx)(p,{})}),Object(x.jsx)(s.a,{path:"/ordenes",element:Object(x.jsx)(p,{})}),Object(x.jsx)(s.a,{path:"/menu",element:Object(x.jsx)(f,{})}),Object(x.jsx)(s.a,{path:"/nuevo-platillo",element:Object(x.jsx)(F,{})})]})})]})})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,202)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};r.a.render(Object(x.jsx)(g.a,{children:Object(x.jsx)(E,{})}),document.getElementById("root")),B()},88:function(e,t,a){}},[[199,1,2]]]);
//# sourceMappingURL=main.f27a6ccd.chunk.js.map